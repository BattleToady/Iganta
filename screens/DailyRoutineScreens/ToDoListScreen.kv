<ToDoListScreen>:
    on_enter:
        root.clear_add_task_fields(self)
        root.ids.layout_task_bucket.clear_widgets()
        root.fill_bucket_list()
        root.togle_layout_visibility(False)
        root.refreshDatePicker()
        root.fill_todo_list()
    ScrollView:
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 2
            
            Button:
                size_hint: 1,None
                height: 25
                text: '<'
                on_press: app.get_running_app().root.current = 'MenuScreen'

            Label:
                size_hint: 1, None
                height: 25
                text: 'To-Do List:'

            GridLayout:
                id: todo_list_layout
                size_hint: 1, None
                cols: 8


            Label:
                size_hint: 1, None
                height: 25
                text: 'To-Do Bucket:'

            ScrollView:
                size_hint: 1, 0.35
                GridLayout:
                    size_hint: 1, None
                    id: layout_task_bucket
                    cols: 8
                    row_default_height: 30
                    height: self.minimum_height

            GridLayout:
                size_hint: 1, None
                height: 25
                rows: 1
                cols: 6

                Label:
                    text: 'Sort by:'
                Button:
                    text: 'importance'
                Button:
                    text: 'deadline'   
                Button:
                    text: 'difficulty'
                Button:
                    text: 'duration'
                Button:
                    text: 'weighted mean'

            Label:
                size_hint: 1, None
                height: 25
                text: 'Add Task:'
            GridLayout:
                size_hint: 1, None
                rows: 2
                cols: 2
                row_default_height: 25

                Label:
                    text: 'Add to list forward?'
                CheckBox:
                    id: checkboxAddListForward

                Label:
                    text: 'task:'
                TextInput:
                    hint_text: 'task'
                    id: textinputTask
            GridLayout:
                size_hint: 1, None
                rows: 1
                cols: 2
                height: 150

                Label:
                    text: 'description:'
                TextInput:
                    hint_text: 'description'
                    id: textinputTaskDescription
            
            GridLayout:
                size_hint: 1, None
                rows: 2
                cols: 6
                row_default_height: 25

                Label:
                    text: 'importance:'
                Button:
                    id: button_importance_1
                    text: '1'
                    on_press: root.importance_button_clicked(1, self)
                Button:
                    id: button_importance_2
                    text: '2'
                    on_press: root.importance_button_clicked(2, self)
                Button:
                    id: button_importance_3
                    text: '3'
                    on_press: root.importance_button_clicked(3, self)
                Button:
                    id: button_importance_4
                    text: '4'
                    on_press: root.importance_button_clicked(4, self)
                Button:
                    id: button_importance_5
                    text: '5'
                    on_press: root.importance_button_clicked(5, self)

                Label:
                    text: 'difficulty:'
                Button:
                    id: button_difficulty_1
                    text: '1'
                    on_press: root.difficulty_button_clicked(1, self)
                Button:
                    id: button_difficulty_2
                    text: '2'
                    on_press: root.difficulty_button_clicked(2, self)
                Button:
                    id: button_difficulty_3
                    text: '3'
                    on_press: root.difficulty_button_clicked(3, self)
                Button:
                    id: button_difficulty_4
                    text: '4'
                    on_press: root.difficulty_button_clicked(4, self)
                Button:
                    id: button_difficulty_5
                    text: '5'
                    on_press: root.difficulty_button_clicked(5, self)
            GridLayout:
                size_hint: 1, None
                rows: 1
                cols: 3
                row_default_height: 25

                Label:
                    text: 'duration:'
                Slider:
                    id: slider_duration
                    min: 0
                    max: 12
                    step: 0.25/3
                    on_value: root.slider_duration_value_changed(self)
                Label:
                    id: label_slider_value
                    text: '0:00'

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Select a date'
                    size_hint: 0.5, None
                    height: 40

                CheckBox:

                Spinner:
                    id: year_spinner
                    text: '2000'
                    size_hint: 0.3, None
                    height: 40
                    on_text: root.update_date_label()

                Spinner:
                    id: month_spinner
                    text: '06'
                    size_hint: 0.3, None
                    height: 40
                    on_text: root.update_date_label()

                Spinner:
                    id: day_spinner
                    text: '2'
                    size_hint: 0.2, None
                    height: 40
                    on_text: root.update_date_label()

            GridLayout:
                rows:1
                cols:2
                size_hint: 1, None
                row_default_height: 25
                height: 25
                id: layout_add_task

                Button:
                    text: 'Add'
                    on_press: root.add_button_clicked(self)
                Button:
                    text: 'Clear'
                    on_press: root.clear_add_task_fields(self)

            GridLayout:
                rows:1
                cols:3
                size_hint: 1, None
                row_default_height: 25
                height: 25
                id: layout_task_modification

                Button:
                    text: 'Save'
                    on_press: root.save_button_clicked(self)
                Button:
                    text: 'Delete'
                    on_press: 
                        root.delete_button_clicked(self)
                        root.togle_layout_visibility(False)
                Button:
                    text: 'Cancel'
                    on_press: 
                        root.clear_add_task_fields(self)
                        root.togle_layout_visibility(False)
            
            BoxLayout:
            



            